webpackJsonp([5],{K31e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mtWM"),n=s.n(a),i={name:"CLogin",data:function(){return{user:{userName:"zhangsan",password:"123456789"},btn_txt:"立即登录",from_path:""}},beforeRouteEnter:function(t,e,s){s(function(t){t.$store.dispatch("ActionLogin",!1),t.from_path=e.path})},methods:{Login:function(){var t=this;if(""!=this.userName&&""!=this.password){var e=this.$store.getters.getToken;""!=e&&(this.btn_txt="登录中...",this.$refs.loginbtn.setAttribute("disabled",!0),n.a.post("/accesstoken",{accesstoken:e},{headers:{"Content-Type":"application/json"}}).then(function(e){var s=e.data;if(s.success){console.log(s),t.$store.dispatch("ActionLogin",!0);var a={loginname:s.loginname,id:s.id,avatar_url:s.avatar_url};t.$store.dispatch("ActionUserInfo",a),t.btn_txt="立即登录",t.$refs.loginbtn.removeAttribute("disabled"),t.$router.push(t.from_path)}}).catch(function(e){t.btn_txt="立即登录",t.$refs.loginbtn.removeAttribute("disabled"),console.log(e)}))}},LoginByGithub:function(){console.log("LoginByGithub")}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cLogin"}},[t._m(0),t._v(" "),s("div",{staticClass:"panel"},[s("div",{staticClass:"input-group"},[s("label",[t._v("用户名")]),t._v(" "),s("div",{staticClass:"input-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.userName,expression:"user.userName"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.user.userName},on:{input:function(e){e.target.composing||t.$set(t.user,"userName",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"input-group"},[s("label",[t._v("密码")]),t._v(" "),s("div",{staticClass:"input-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"input-group"},[s("button",{ref:"loginbtn",staticClass:"btn",on:{click:t.Login}},[t._v(t._s(t.btn_txt))])]),t._v(" "),s("a",{staticClass:"login_github",on:{click:t.LoginByGithub}},[t._v("通过github登陆")]),s("a",{staticClass:"forget_pwd"},[t._v("忘记密码?")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tag"},[e("span",{staticClass:"tag_main"},[this._v("主页")]),e("span",[this._v(" / 登陆")])])}]};var r=s("VU/8")(i,o,!1,function(t){s("R2L1")},"data-v-5ea60be1",null);e.default=r.exports},R2L1:function(t,e){}});
//# sourceMappingURL=5.d6ed930d992b9669a297.js.map